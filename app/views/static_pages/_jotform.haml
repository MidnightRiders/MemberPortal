:ruby
  scarves = %w[
    https://www.midnightriders.com/ext-img/2021scarves/scarf-1.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-2.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-3.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-4.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-5.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-6.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-7.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-8.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-9.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-10.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-11.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-12.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-13.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-14.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-15.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-16.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-17.jpg
    https://www.midnightriders.com/ext-img/2021scarves/scarf-18.jpg
  ]
%script{ src: 'https://cdn.jotfor.ms/static/prototype.forms.js', type: 'text/javascript' }
%script{ src: 'https://cdn.jotfor.ms/static/jotform.forms.js?3.3.22538', type: 'text/javascript' }
:javascript
	JotForm.init(function(){
    JotForm.newDefaultTheme = true;
    JotForm.extendsNewTheme = false;
    JotForm.newPaymentUIForNewCreatedForms = true;
    JotForm.newPaymentUI = true;
    JotForm.alterTexts(undefined);
    JotForm.clearFieldOnHide="disable";
    JotForm.submitError="jumpToFirstError";
    /*INIT-END*/
	});

  JotForm.prepareCalculationsOnTheFly([null,{"name":"heading","qid":"1","text":"Form","type":"control_head"},{"name":"submit2","qid":"2","text":"Submit","type":"control_button"},{"description":"","name":"voteFor","qid":"3","text":"Vote for up to three scarf designs","type":"control_checkbox"}]);
  setTimeout(function() {
    JotForm.paymentExtrasOnTheFly([null,{"name":"heading","qid":"1","text":"Form","type":"control_head"},{"name":"submit2","qid":"2","text":"Submit","type":"control_button"},{"description":"","name":"voteFor","qid":"3","text":"Vote for up to three scarf designs","type":"control_checkbox"}]);
  }, 20); 
#scarf-vote-modal.reveal-modal.medium{ data: { reveal: true } }
  .close-reveal-modal &#215;
  #scarf-vote{ style: 'max-height: 100%; overflow-y: auto;' }
    %form#210017591132039.jotform-form{ 'accept-charset': 'utf-8', action: '//submit.jotform.us/submit/210017591132039/', method: 'post', name: 'form_210017591132039', target: :_blank }
      %input{ name: 'formID', type: 'hidden', value: '210017591132039' }
      .form-all
        %ul.form-section.page-section
          %li#id_5.form-line.jf-required{'data-type': 'control_checkbox'}
            %h2.text-center! Pick Up&nbsp;to THREE&nbsp;Favorite Scarf&nbsp;Designs
            #cid_5.form-input-wide.jf-required
              .form-single-column{'data-component': 'checkbox'}
                - scarves.each_with_index do |img, i|
                  .scarf.form-radio-item
                    %input.form-checkbox{ class: 'validate[required,maxselection,minselection]', id: "input_3_#{i}", data: { maxselection: '3', minselection: '1' }, name: 'q3_voteFor[]', type: 'checkbox', value: "Scarf ##{i + 1}" }
                    %label{ for: "input_3_#{i}", id: "label_input_3_#{i}" }
                      Scarf ##{i + 1}
                      %img{ alt: "Midnight Riders 2020 Scarf Contest Scarf ##{i + 1}", src: img, width: 600 }
          = hidden_field_tag 'q3_voteFor'
          = hidden_field_tag 'q4_email', current_user.email
          %li#id_2.form-line{ data: { type: 'control_button' } }
            #cid_2.form-input-wide
              .form-buttons-wrapper{ style: 'margin-left:156px;' }
                %button#input_2.form-submit-button{ data: { component: 'button' }, type: 'submit' }
                  Submit
          %li{ style: 'display:none' }
            Should be Empty:
            %input{ name: 'website', type: 'text', value: '' }
      :javascript
        if (JotForm) JotForm.showJotFormPowered = '0';
        var scarves = document.getElementsByName('q3_voteFor[]');
        var pickComposer = function () {
          var hiddenField = document.getElementById('q3_voteFor');
          var picks = [];
          for (var i = 0, len = scarves.length; i < len; i++) {
            if (scarves[i].checked === true) picks.push(scarves[i].value);
          }
          hiddenField.value = picks.join('\n');
        };
        for (var i = scarves.length; i--;) { scarves[i].addEventListener('change', pickComposer); }
        document.getElementById('210017591132039').addEventListener('submit', pickComposer);
      %input#simple_spc{ name: 'simple_spc', type: 'hidden', value: '210017591132039' }
      :javascript
        document.getElementById('si' + 'mple' + '_spc').value = '210017591132039-210017591132039';
      %script{ src: '//cdn.jotfor.ms/js/widgetResizer.js?REV=3.3.3697', type: 'text/javascript' }
