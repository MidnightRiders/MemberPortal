:ruby
  scarves = %w[
    https://www.midnightriders.com/ext-img/2020scarves/scarf-1.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-2.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-3.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-4.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-6.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-7.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-8.jpg
    https://www.midnightriders.com/ext-img/2020scarves/scarf-9.png
  ]
%script{ src: '//cdn.jotfor.ms/static/prototype.forms.js', type: 'text/javascript' }
%script{ src: '//cdn.jotfor.ms/static/jotform.forms.js?3.3.3697', type: 'text/javascript' }
%script{ src: '//js.jotform.com/vendor/postMessage.js?3.3.3697', type: 'text/javascript' }
%script{ src: '//js.jotform.com/WidgetsServer.js?v=1514599669303', type: 'text/javascript' }
:javascript
  JotForm.init(function () {
    JotForm.alterTexts({ 'alphabetic': 'This field can only contain letters', 'alphanumeric': 'This field can only contain letters and numbers.', 'ccDonationMinLimitError': 'Minimum amount is {minAmount} {currency}', 'ccInvalidCVC': 'CVC number is invalid.', 'ccInvalidExpireDate': 'Expire date is invalid.', 'ccInvalidNumber': 'Credit Card Number is invalid.', 'ccMissingDetails': 'Please fill up the Credit Card details.', 'ccMissingDonation': 'Please enter numeric values for donation amount.', 'ccMissingProduct': 'Please select at least one product.', 'characterLimitError': 'Too many Characters.  The limit is', 'characterMinLimitError': 'Too few characters. The minimum is', 'confirmClearForm': 'Are you sure you want to clear the form?', 'confirmEmail': 'E-mail does not match', 'currency': 'This field can only contain currency values.', 'cyrillic': 'This field can only contain cyrillic characters', 'dateInvalid': 'This date is not valid. The date format is {format}', 'dateInvalidSeparate': 'This date is not valid. Enter a valid {element}.', 'dateLimited': 'This date is unavailable.', 'disallowDecimals': 'Please enter a whole number.', 'email': 'Enter a valid e-mail address', 'fillMask': 'Field value must fill mask.', 'freeEmailError': 'Free email accounts are not allowed', 'generalError': 'There are errors on the form. Please fix them before continuing.', 'generalPageError': 'There are errors on this page. Please fix them before continuing.', 'gradingScoreError': 'Score total should only be less than or equal to', 'incompleteFields': 'There are incomplete required fields. Please complete them.', 'inputCarretErrorA': 'Input should not be less than the minimum value:', 'inputCarretErrorB': 'Input should not be greater than the maximum value:', 'lessThan': 'Your score should be less than or equal to', 'maxDigitsError': 'The maximum digits allowed is', 'maxSelectionsError': 'The maximum number of selections allowed is', 'minSelectionsError': 'The minimum required number of selections is', 'multipleFileUploads_emptyError': '{file} is empty, please select files again without it.', 'multipleFileUploads_fileLimitError': 'Only {fileLimit} file uploads allowed.', 'multipleFileUploads_minSizeError': '{file} is too small, minimum file size is {minSizeLimit}.', 'multipleFileUploads_onLeave': 'The files are being uploaded, if you leave now the upload will be cancelled.', 'multipleFileUploads_sizeError': '{file} is too large, maximum file size is {sizeLimit}.', 'multipleFileUploads_typeError': '{file} has invalid extension. Only {extensions} are allowed.', 'nextButtonText': 'Next', 'numeric': 'This field can only contain numeric values', 'pastDatesDisallowed': 'Date must not be in the past.', 'pleaseWait': 'Please wait...', 'prevButtonText': 'Previous', 'progressMiddleText': 'of', 'required': 'This field is required.', 'requireEveryCell': 'Every cell is required.', 'requireEveryRow': 'Every row is required.', 'requireOne': 'At least one field required.', 'reviewBackText': 'Back to Form', 'reviewSubmitText': 'Review and Submit', 'seeAllText': 'See All', 'submissionLimit': 'Sorry! Only one entry is allowed.  Multiple submissions are disabled for this form.', 'submitButtonText': 'Submit', 'uploadExtensions': 'You can only upload following files:', 'uploadFilesize': 'File size cannot be bigger than:', 'uploadFilesizemin': 'File size cannot be smaller than:', 'url': 'This field can only contain a valid URL', 'wordLimitError': 'Too many words. The limit is', 'wordMinLimitError': 'Too few words.  The minimum is' });
    JotForm.clearFieldOnHide = 'disable';
    JotForm.submitError = 'jumpToFirstError';
  });
  JotForm.prepareCalculationsOnTheFly([null, { 'name': '2020Scarf', 'qid': '1', 'text': '2020 Scarf Vote', 'type': 'control_head' }, { 'name': 'submit2', 'qid': '2', 'text': 'Submit', 'type': 'control_button' }, null, { 'name': 'email', 'qid': '4', 'text': 'Email', 'type': 'control_email' }, { 'name': 'typeA', 'qid': '5', 'text': '', 'type': 'control_widget' }]);
  setTimeout(function () {
    JotForm.paymentExtrasOnTheFly([null, { 'name': '2020Scarf', 'qid': '1', 'text': '2020 Scarf Vote', 'type': 'control_head' }, { 'name': 'submit2', 'qid': '2', 'text': 'Submit', 'type': 'control_button' }, null, { 'name': 'email', 'qid': '4', 'text': 'Email', 'type': 'control_email' }, { 'name': 'typeA', 'qid': '5', 'text': '', 'type': 'control_widget' }]);
  }, 20);
#scarf-vote-modal.reveal-modal.medium{ data: { reveal: true } }
  .close-reveal-modal &#215;
  #scarf-vote{ style: 'max-height: 100%; overflow-y: auto;' }
    %form#193648025883165.jotform-form{ 'accept-charset': 'utf-8', action: '//submit.jotform.us/submit/193648025883165/', method: 'post', name: 'form_193648025883165', target: :_blank }
      %input{ name: 'formID', type: 'hidden', value: '193648025883165' }
      .form-all
        %ul.form-section.page-section
          %li#id_5.form-line.jf-required{'data-type': 'control_checkbox'}
            %h2.text-center! Pick Your THREE&nbsp;Favorite Scarf&nbsp;Designs
            #cid_5.form-input-wide.jf-required
              .form-single-column{'data-component': 'checkbox'}
                - scarves.each_with_index do |img, i|
                  .scarf.form-radio-item
                    %input.form-checkbox{ class: 'validate[required,maxselection,minselection]', id: "input_5_#{i}", data: { maxselection: '3', minselection: '1' }, name: 'q5_typeA[]', type: 'checkbox', value: "Scarf ##{i + 1}" }
                    %label{ for: "input_5_#{i}", id: "label_input_5_#{i}" }
                      Scarf ##{i + 1}
                      %img{ alt: "Midnight Riders 2020 Scarf Contest Scarf ##{i + 1}", src: img, width: 600 }
          = hidden_field_tag 'q5_typeA'
          = hidden_field_tag 'q4_email', current_user.email
          %li#id_2.form-line{ data: { type: 'control_button' } }
            #cid_2.form-input-wide
              .form-buttons-wrapper{ style: 'margin-left:156px;' }
                %button#input_2.form-submit-button{ data: { component: 'button' }, type: 'submit' }
                  Submit
          %li{ style: 'display:none' }
            Should be Empty:
            %input{ name: 'website', type: 'text', value: '' }
      :javascript
        if (JotForm) JotForm.showJotFormPowered = '0';
        var scarves = document.getElementsByName('q5_typeA[]');
        var pickComposer = function () {
          var hiddenField = document.getElementById('q5_typeA');
          var picks = [];
          for (var i = 0, len = scarves.length; i < len; i++) {
            if (scarves[i].checked === true) picks.push(scarves[i].value);
          }
          hiddenField.value = picks.join('\n');
        };
        for (var i = scarves.length; i--;) { scarves[i].addEventListener('change', pickComposer); }
        document.getElementById('193648025883165').addEventListener('submit', pickComposer);
      %input#simple_spc{ name: 'simple_spc', type: 'hidden', value: '193648025883165' }
      :javascript
        document.getElementById('si' + 'mple' + '_spc').value = '193648025883165-193648025883165';
      %script{ src: '//cdn.jotfor.ms/js/widgetResizer.js?REV=3.3.3697', type: 'text/javascript' }
